# 需求文件

## 介紹

這個功能允許用戶複製任何文字內容，系統會根據預設的關鍵字自動識別並生成相應的 Anki 卡片，然後直接匯入到用戶的 Anki 應用程式中。這個功能旨在簡化學習過程，讓用戶可以快速將學習材料轉換為可複習的卡片。

## 需求

### 需求 1

**用戶故事：** 作為一個學習者，我希望能夠複製任何文字內容，系統自動識別關鍵字並生成 Anki 卡片，這樣我就可以快速建立學習卡片而不需要手動輸入。

#### 驗收標準

1. WHEN 用戶複製文字到剪貼簿 THEN 系統 SHALL 自動檢測剪貼簿內容
2. WHEN 系統檢測到剪貼簿有新內容 THEN 系統 SHALL 分析文字中的關鍵字
3. WHEN 系統識別到預設關鍵字 THEN 系統 SHALL 根據關鍵字類型生成對應的卡片格式
4. IF 文字內容不包含任何預設關鍵字 THEN 系統 SHALL 提供預設的問答格式

### 需求 2

**用戶故事：** 作為一個用戶，我希望能夠自定義關鍵字和對應的卡片模板，這樣我就可以根據不同的學習需求創建不同類型的卡片。

#### 驗收標準

1. WHEN 用戶訪問設定介面 THEN 系統 SHALL 顯示當前的關鍵字和模板配置
2. WHEN 用戶新增關鍵字 THEN 系統 SHALL 允許用戶定義對應的卡片模板
3. WHEN 用戶修改現有關鍵字或模板 THEN 系統 SHALL 保存變更並立即生效
4. WHEN 用戶刪除關鍵字 THEN 系統 SHALL 移除該關鍵字及其對應模板

### 需求 3

**用戶故事：** 作為一個 Anki 用戶，我希望生成的卡片能夠自動匯入到我的 Anki 應用程式中，這樣我就不需要手動匯入卡片。

#### 驗收標準

1. WHEN 系統生成卡片 THEN 系統 SHALL 自動連接到 Anki 應用程式
2. WHEN 連接成功 THEN 系統 SHALL 將卡片匯入到指定的牌組
3. IF Anki 應用程式未運行 THEN 系統 SHALL 提示用戶啟動 Anki
4. WHEN 匯入完成 THEN 系統 SHALL 顯示成功訊息和匯入的卡片數量

### 需求 4

**用戶故事：** 作為一個用戶，我希望能夠預覽生成的卡片內容，這樣我就可以在匯入前確認卡片的正確性。

#### 驗收標準

1. WHEN 系統生成卡片 THEN 系統 SHALL 顯示卡片預覽
2. WHEN 用戶查看預覽 THEN 系統 SHALL 顯示正面和背面內容
3. WHEN 用戶確認預覽 THEN 系統 SHALL 執行匯入操作
4. WHEN 用戶取消預覽 THEN 系統 SHALL 不執行匯入操作

### 需求 5

**用戶故事：** 作為一個用戶，我希望系統能夠處理不同語言的文字內容，這樣我就可以為多種語言創建學習卡片。

#### 驗收標準

1. WHEN 系統分析文字內容 THEN 系統 SHALL 支援中文、英文和其他常見語言
2. WHEN 檢測到不同語言 THEN 系統 SHALL 使用對應語言的關鍵字規則
3. WHEN 生成卡片 THEN 系統 SHALL 保持原文的語言格式和編碼
4. IF 遇到不支援的語言 THEN 系統 SHALL 使用預設的通用模板

### 需求 6

**用戶故事：** 作為一個用戶，我希望生成的卡片內容具有良好的格式和可讀性，這樣我就可以更容易地閱讀和理解卡片內容。

#### 驗收標準

1. WHEN 系統生成卡片內容 THEN 系統 SHALL 自動添加適當的換行和段落分隔
2. WHEN 內容包含長句子 THEN 系統 SHALL 在適當位置添加斷句和分行
3. WHEN 內容包含列表或要點 THEN 系統 SHALL 使用項目符號或編號格式
4. WHEN 內容包含不同類型的資訊 THEN 系統 SHALL 使用標題、粗體或其他格式來區分內容層次

### 需求 7

**用戶故事：** 作為一個用戶，我希望系統能夠記錄匯入歷史，這樣我就可以追蹤和管理已匯入的卡片。

#### 驗收標準

1. WHEN 卡片成功匯入 THEN 系統 SHALL 記錄匯入時間和內容摘要
2. WHEN 用戶查看歷史 THEN 系統 SHALL 顯示最近的匯入記錄
3. WHEN 用戶選擇歷史記錄 THEN 系統 SHALL 顯示該次匯入的詳細資訊
4. WHEN 用戶清除歷史 THEN 系統 SHALL 移除選定的歷史記錄